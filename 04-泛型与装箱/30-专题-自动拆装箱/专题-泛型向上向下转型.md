---
title: 专题-泛型向上向下转型
category: 04-泛型与装箱
topic: 30-专题-自动拆装箱
created: 2026-01-26
reviewed: 2026-02-02
tags: [java, 泛型与装箱]
status: active
---

鍏堜粠鈥滃紩鐢ㄥ彉閲忊€濆拰鈥滃璞″疄闄呯被鍨嬧€濊繖涓や釜姒傚康璇磋捣銆? 
鍦?Java 閲岋紝绛夊彿宸﹁竟鐨勭被鍨嬪喅瀹氫簡浣犫€滆兘鐢ㄤ粈涔堝姛鑳解€濓紝绛夊彿鍙宠竟 new 鍑烘潵鐨勭被鍨嬪喅瀹氫簡鈥滆繖涓璞″埌搴曟槸璋佲€濄€?
渚嬪锛?
Person p = new Student();

杩欓噷鏈変袱浠朵簨鍚屾椂鎴愮珛銆? 
p 鐨勭紪璇戞湡绫诲瀷鏄?Person銆? 
杩欎釜瀵硅薄鐨勮繍琛屾湡鐪熷疄绫诲瀷鏄?Student銆?
缂栬瘧鏈熺被鍨嬪喅瀹氫綘鑳借皟鐢ㄥ摢浜涙柟娉曘€? 
杩愯鏈熺被鍨嬪喅瀹氭柟娉曠湡姝ｆ墽琛岀殑鏄摢涓€涓増鏈€?
涓€銆佷负浠€涔堝彲浠ュ悜涓婅浆鍨?
Student 缁ф壙 Person锛岃鏄?Student 鑷冲皯鎷ユ湁 Person 鐨勫叏閮ㄦ垚鍛樸€? 
鍑℃槸闇€瑕佷竴涓?Person 鐨勫湴鏂癸紝缁欏畠涓€涓?Student 閮芥槸瀹夊叏鐨勩€?
鍙互鎶婂畠鐞嗚В涓轰竴涓€滆寖鍥存洿澶р€濈殑寮曠敤銆?
Student 鏄叿浣撶殑浜猴紝Person 鏄娊璞＄殑浜恒€? 
鐢ㄢ€滀汉鈥濈殑瑙嗚鐪嬧€滃鐢熲€濓紝涓嶄細鍑洪棶棰樸€?
鎵€浠ヨ繖鍙ユ槸鍚堟硶鐨勶細

Person p = new Student();

杩欎竴姝ュ彨鍚戜笂杞瀷锛屾湰璐ㄦ槸浠庡叿浣撳埌鎶借薄銆? 
瀹冩槸鑷姩瀹屾垚鐨勶紝涓嶉渶瑕佸己鍒惰浆鎹€? 
鍘熷洜鏄畨鍏ㄦ€х敱璇█淇濊瘉銆?
鍚戜笂杞瀷鍚庢湁涓€涓洿鎺ュ悗鏋溿€? 
浣犲彧鑳介€氳繃 p 璁块棶 Person 涓畾涔夌殑鎴愬憳銆? 
鍗充究瀵硅薄鐪熷疄鏄?Student锛孲tudent 鐙湁鐨勬柟娉曚篃鏆傛椂鈥滅湅涓嶈鈥濄€?
浜屻€佸悜涓嬭浆鍨嬩负浠€涔堝嵄闄?
鍚戜笅杞瀷琛ㄧず浣犺瘯鍥炬妸涓€涓€滄娊璞＄殑寮曠敤鈥濊繕鍘熸垚鈥滄洿鍏蜂綋鐨勭被鍨嬧€濄€?
渚嬪锛?
Person p = new Student();  
Student s = (Student) p;

杩欓噷鑳芥垚鍔燂紝鏄洜涓鸿繖涓璞℃湰鏉ュ氨鏄?Student銆? 
浣犲彧鏄仮澶嶄簡瀹冨師鏈殑韬唤銆?
鍐嶇湅杩欎釜渚嬪瓙锛?
Person p = new Person();  
Student s = (Student) p;

杩欓噷浼氬湪杩愯鏈熸姏鍑?ClassCastException銆? 
鍘熷洜鍦ㄤ簬瀵硅薄鏈韩灏辨槸 Person锛屼粠鏉ユ病鏈?Student 鐨勯偅閮ㄥ垎鑳藉姏銆? 
杩愯鏈熷彂鐜颁綘鍦ㄢ€滃亣瑁呭畠鏄鐢熲€濓紝灏辩洿鎺ユ姤閿欍€?
涓€鍙ヨ瘽鎬荤粨銆? 
鍚戜笅杞瀷鏄惁鎴愬姛锛屽彇鍐充簬瀵硅薄鐪熷疄鐨勮繍琛屾湡绫诲瀷锛屽拰寮曠敤鍙橀噺鐨勫０鏄庣被鍨嬫病鏈夊叧绯汇€?
涓夈€乮nstanceof 鍦ㄥ仛浠€涔?
instanceof 鍒ゆ柇鐨勪笉鏄彉閲忕被鍨嬨€? 
瀹冨垽鏂殑鏄彉閲忓綋鍓嶆寚鍚戠殑閭ｄ釜瀵硅薄锛屾槸涓嶆槸鏌愪釜绫诲瀷锛屾垨鑰呰绫诲瀷鐨勫瓙绫汇€?
渚嬪锛?
Person p = new Student();

p instanceof Person 杩斿洖 true  
p instanceof Student 杩斿洖 true

鍥犱负瀵硅薄鐪熷疄绫诲瀷鏄?Student銆?
鍐嶇湅锛?
Person p = new Person();

p instanceof Student 杩斿洖 false

鍥犱负杩欎釜瀵硅薄纭疄涓嶆槸 Student銆?
濡傛灉寮曠敤涓?null锛岃鏄庢牴鏈病鏈夊璞★紝鑷劧鎵€鏈?instanceof 閮芥槸 false銆?
鍥涖€佷负浠€涔堣鍏?instanceof 鍐嶅悜涓嬭浆鍨?
鍚戜笅杞瀷瀛樺湪澶辫触椋庨櫓銆? 
instanceof 鏄竴绉嶈繍琛屾湡瀹夊叏妫€鏌ャ€?
甯歌鍐欐硶鏄細

if (p instanceof Student) {  
Student s = (Student) p;  
}

杩欐牱鍙互淇濊瘉杞瀷涓€瀹氭垚鍔燂紝涓嶄細鎶涘紓甯搞€?
浜斻€丣ava 14 涔嬪悗鐨勬柊鍐欐硶鍦ㄥ仛浠€涔?
浠ュ墠鐨勯棶棰樻槸銆? 
鍒ゆ柇鍜屽己鍒惰浆鍨嬭鍐欎袱娆＄被鍨嬶紝鍐椾綑鍙堝鏄撳啓閿欍€?
鏂拌娉曟妸鈥滃垽鏂垚鍔熲€濆拰鈥滅敓鎴愭柊鍙橀噺鈥濆悎鍦ㄤ簡涓€璧凤細

if (obj instanceof String s) {  
System.out.println(s.toUpperCase());  
}

鍚箟鏄€? 
濡傛灉 obj 鎸囧悜鐨勫璞℃槸 String 鎴栧叾瀛愮被锛屽氨鎶婂畠褰撲綔 String锛屽苟缁戝畾鍒板彉閲?s銆? 
鍦?if 浠ｇ爜鍧椾腑锛宻 宸茬粡鏄?String 绫诲瀷锛屼笉闇€瑕佸啀寮鸿浆銆?
鍏€佺敤涓€鍙ヨ瘽鎬荤悊瑙?
鍚戜笂杞瀷鏄畨鍏ㄧ殑锛屽洜涓哄瓙绫讳竴瀹氬寘鍚埗绫荤殑鍏ㄩ儴鑳藉姏銆? 
鍚戜笅杞瀷鏄湁椋庨櫓鐨勶紝鍥犱负鐖剁被瀵硅薄鏈繀鍏峰瀛愮被鑳藉姏銆? 
instanceof 鐨勪綔鐢ㄦ槸鍦ㄨ繍琛屾湡纭瀵硅薄鐪熷疄韬唤锛岄伩鍏嶉敊璇浆鍨嬨€
